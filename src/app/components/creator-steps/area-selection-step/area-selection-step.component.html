<header-nav></header-nav>

<div id="holder" class="row">
  <div class="col-8">
    <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
      <agm-polygon
        [paths]="polygonCoords"
        [editable]="true"
        [clickable]="true"
        [geodesic]="true"
        [fillColor]="'#d18300'"
        [fillOpacity]="0.4"
        [strokeColor]="'#ffa800'"
        [polyDraggable]="true"
      >
      </agm-polygon>
      <!--
        <agm-marker *ngFor="let coord of markerCoords; index as i" [latitude]="coord.lat()" [longitude]="coord.lng()"
          [label]="(i + 1).toString()+'\u200b'">
          * </agm-marker>

        <ng-container *ngIf="grid$ | async as grid">

          <agm-polygon *ngFor="let cell of grid.cells" [paths]="[cell.vertices]" [fillOpacity]="0.1">
          </agm-polygon>
        </ng-container>
      -->
    </agm-map>
  </div>

  <div class="col-3 pl-0">
    <h2>Choose area to cover with grid</h2>
    <p>
      <mat-form-field appearance="legacy">
        <mat-label>Area name</mat-label>
        <input
          matInput
          type="text"
          id="searchInput"
          class="form-control"
          #search
        />
      </mat-form-field>
    </p>
    <button
      mat-button
      (click)="onConfirmSelection()"
      [disabled]="!isPlaceSelected"
    >
      Generate Plan
    </button>
    <app-spinner [isRunning]="isRequesting"></app-spinner>
  </div>
</div>
